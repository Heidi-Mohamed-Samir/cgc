{"ast":null,"code":"var _jsxFileName = \"D:\\\\cgc\\\\purchases-app\\\\src\\\\App.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nfunction App() {\n  const [userId, setUserId] = useState(\"\");\n  const [purchases, setPurchases] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [newUser, setNewUser] = useState({\n    username: \"\",\n    email: \"\",\n    address: \"\",\n    password: \"\"\n  });\n  const loadUsers = async () => {\n    const res = await axios.get(\"/api/users\");\n    setUsers(res.data);\n  };\n  useEffect(() => {\n    loadUsers();\n  }, []);\n  const handleCreateUser = async () => {\n    try {\n      await axios.post(\"/api/users\", newUser);\n      setNewUser({\n        username: \"\",\n        email: \"\",\n        address: \"\",\n        password: \"\"\n      });\n      loadUsers();\n    } catch {\n      alert(\"Error creating user\");\n    }\n  };\n  const handleDeleteUser = async id => {\n    try {\n      await axios.delete(`/api/users/${id}`);\n      loadUsers();\n    } catch {\n      alert(\"Error deleting user\");\n    }\n  };\n  const handleBuy = async () => {\n    try {\n      const response = await axios.post(`/api/purchases/buy?userId=${userId}`);\n      alert(\"Purchase created with ID: \" + response.data.id);\n    } catch (error) {\n      alert(\"Error creating purchase\");\n    }\n  };\n  const handleGetPurchases = async () => {\n    try {\n      const response = await axios.get(`/api/purchases/user/${userId}`);\n      setPurchases(response.data);\n    } catch (error) {\n      alert(\"Error fetching purchases\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Purchases App\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Create User\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Username\",\n    value: newUser.username,\n    onChange: e => setNewUser({\n      ...newUser,\n      username: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: newUser.email,\n    onChange: e => setNewUser({\n      ...newUser,\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Address\",\n    value: newUser.address,\n    onChange: e => setNewUser({\n      ...newUser,\n      address: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: newUser.password,\n    onChange: e => setNewUser({\n      ...newUser,\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCreateUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Create User\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"All Users\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, users.map(u => /*#__PURE__*/React.createElement(\"li\", {\n    key: u.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, u.username, \" (\", u.email, \")\", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      var _u$id;\n      return setUserId(((_u$id = u.id) === null || _u$id === void 0 ? void 0 : _u$id.toString()) || \"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Use\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDeleteUser(u.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"Selected User ID: \", userId || \"(None Selected)\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Buy Now\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGetPurchases,\n    style: {\n      marginLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"View Purchases\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Purchases\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, purchases.map(p => {\n    var _p$product;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: p.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, (_p$product = p.product) === null || _p$product === void 0 ? void 0 : _p$product.name, \" - Qty: \", p.quantity, \" - Total: \", p.totalAmount);\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","axios","App","userId","setUserId","purchases","setPurchases","users","setUsers","newUser","setNewUser","username","email","address","password","loadUsers","res","get","data","handleCreateUser","post","alert","handleDeleteUser","id","delete","handleBuy","response","error","handleGetPurchases","createElement","style","padding","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","map","u","key","_u$id","toString","marginLeft","p","_p$product","product","name","quantity","totalAmount"],"sources":["D:/cgc/purchases-app/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\ninterface User {\n    id?: number;\n    address: string;\n    email: string;\n    username: string;\n    password: string;\n}\n\nfunction App() {\n    const [userId, setUserId] = useState(\"\");\n    const [purchases, setPurchases] = useState([]);\n    const [users, setUsers] = useState<User[]>([]);\n    const [newUser, setNewUser] = useState<User>({\n        username: \"\",\n        email: \"\",\n        address: \"\",\n        password: \"\"\n    });\n\n    const loadUsers = async () => {\n        const res = await axios.get(\"/api/users\");\n        setUsers(res.data);\n    };\n\n    useEffect(() => {\n        loadUsers();\n    }, []);\n\n    const handleCreateUser = async () => {\n        try {\n            await axios.post(\"/api/users\", newUser);\n            setNewUser({ username: \"\", email: \"\", address: \"\", password: \"\" });\n            loadUsers();\n        } catch {\n            alert(\"Error creating user\");\n        }\n    };\n\n    const handleDeleteUser = async (id?: number) => {\n        try {\n            await axios.delete(`/api/users/${id}`);\n            loadUsers();\n        } catch {\n            alert(\"Error deleting user\");\n        }\n    };\n\n    const handleBuy = async () => {\n        try {\n            const response = await axios.post(`/api/purchases/buy?userId=${userId}`);\n            alert(\"Purchase created with ID: \" + response.data.id);\n        } catch (error) {\n            alert(\"Error creating purchase\");\n        }\n    };\n\n    const handleGetPurchases = async () => {\n        try {\n            const response = await axios.get(`/api/purchases/user/${userId}`);\n            setPurchases(response.data);\n        } catch (error) {\n            alert(\"Error fetching purchases\");\n        }\n    };\n\n    return (\n        <div style={{ padding: \"20px\" }}>\n            <h1>Purchases App</h1>\n\n            <h2>Create User</h2>\n            <input\n                type=\"text\"\n                placeholder=\"Username\"\n                value={newUser.username}\n                onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\n            />\n            <input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={newUser.email}\n                onChange={(e) => setNewUser({ ...newUser, email: e.target.value })}\n            />\n            <input\n                type=\"text\"\n                placeholder=\"Address\"\n                value={newUser.address}\n                onChange={(e) => setNewUser({ ...newUser, address: e.target.value })}\n            />\n            <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={newUser.password}\n                onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\n            />\n            <button onClick={handleCreateUser}>Create User</button>\n\n            <h2>All Users</h2>\n            <ul>\n                {users.map((u) => (\n                    <li key={u.id}>\n                        {u.username} ({u.email}){\" \"}\n                        <button onClick={() => setUserId(u.id?.toString() || \"\")}>Use</button>{\" \"}\n                        <button onClick={() => handleDeleteUser(u.id)}>Delete</button>\n                    </li>\n                ))}\n            </ul>\n\n            <h2>Selected User ID: {userId || \"(None Selected)\"}</h2>\n            <button onClick={handleBuy}>Buy Now</button>\n            <button onClick={handleGetPurchases} style={{ marginLeft: \"10px\" }}>\n                View Purchases\n            </button>\n\n            <h2>Purchases</h2>\n            <ul>\n                {purchases.map((p: any) => (\n                    <li key={p.id}>\n                        {p.product?.name} - Qty: {p.quantity} - Total: {p.totalAmount}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}